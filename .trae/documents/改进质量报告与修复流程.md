## 目标
- 一键：检测 → 修复到语言包 → 应用到源码 → 编译（以官方源码为基准）。

## 行为
- 扫描官方源码中所有可翻译英文（默认 TUI），与语言包比较：
  - 缺失：新增到语言包（AI 翻译，保持“中文 (English)”格式、变量/括号/标签不变）。
  - 失效：目标文件不存在或原 key 无命中时，语言包条目标记 deprecated:true。
  - 语义问题：对语言包条目做语法安全+AI 语义修复，写回语言包。
- 完成修复后：应用语言包到源码 → 验证 → 编译构建。

## 实现改动点
- 新增命令：`opencodenpm fix`（聚合流水线：missing+stale+quality 修复 → apply → verify → build）。
- 复用现有能力：
  - 质量修复：使用 Translator.checkQuality({fix:true, aiCheck:true}) 写回语言包。
  - 缺失翻译：在 check 中直接生成新增 replacements 并写入对应 i18n JSON（按现有分类/路径生成）。
  - 失效标记：遇到目标文件不存在的语言包条目，自动添加 deprecated:true（不删除）。
- 所有写入只改语言包，官方源码仅在 apply 阶段替换。

## 菜单与交互
- 在“检查翻译”页提供单一入口：“一键修复并应用”。
- 质量报告页底部也提供同样入口；纯文本模式下禁用 OSC8 链接但不影响功能。

## 验证
- 先 dry-run 显示将写入的 configPath/key/value；默认走真实修复（可通过 `--dry-run` 仅预览）。
- 跑 scripts 的 `node --test`；再执行 `opencodenpm verify` 无阻塞问题后编译。

## 用法
- 一键本地：`node scripts/bin/opencodenpm fix`（可选 `--dry-run`）。
- 仍保留原有 `apply/verify/build` 单独命令。