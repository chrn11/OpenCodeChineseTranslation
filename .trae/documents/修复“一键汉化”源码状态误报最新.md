## 问题原因
- 第 1 步的“检查源码状态”来自 [full.js](file:///Users/xiaolajiao/999/888/hanhua/OpenCodeChineseTranslation/scripts/commands/full.js#L26-L55) 的 `checkSourceUpdate()`。
- 这里用 `git rev-parse HEAD` 和 `git rev-parse @{u}` 做对比，但**没有先 fetch 远端**，所以 `@{u}` 代表的是“本地缓存的 upstream 引用”，可能是旧的。
- 结果就是：即使官方仓库已经更新，只要你本地没做过 fetch/pull，就会被误判为“源码已是最新”。点击“同步官方/更新源码”之所以会更新，是因为更新逻辑里才会 `git fetch`（见 [git.js](file:///Users/xiaolajiao/999/888/hanhua/OpenCodeChineseTranslation/scripts/core/git.js#L63-L105)）。

## 目标
- 第 1 步真正对齐“官方最新”（远端最新提交），官方有更新就提示可更新。
- 断网或远端不可达时，不再误报“最新”，改为提示“无法检查远端更新”，并给出建议操作。

## 代码调整
- 在 [full.js](file:///Users/xiaolajiao/999/888/hanhua/OpenCodeChineseTranslation/scripts/commands/full.js#L26-L55) 改造 `checkSourceUpdate()`：
  - 先解析 upstream/远程跟踪分支（`@{u}`，失败则回退 `origin/<currentBranch>`）。
  - 根据 upstream 推导 remote 名（通常是 `origin`），在比较前执行一次 `git fetch <remote> --prune`（静默输出）。
  - 用 `git rev-parse <remoteBranch>` 得到最新远端提交，再与本地 HEAD 比较。
  - fetch 失败时返回 `checkFailed` 标志与简短原因。
- 在第 1 步的输出逻辑中（[full.js](file:///Users/xiaolajiao/999/888/hanhua/OpenCodeChineseTranslation/scripts/commands/full.js#L82-L135)）：
  - 若 `checkFailed`：展示 warning（例如“无法检查远端更新，建议运行同步/更新”），并在非 auto 模式下仍给出“是否尝试更新”的确认。
- 顺手增强更新逻辑的健壮性（可选但推荐）：
  - 在 [git.js](file:///Users/xiaolajiao/999/888/hanhua/OpenCodeChineseTranslation/scripts/core/git.js#L63-L105) 的 `pullRepo()`，把 `git fetch origin` 改为 `git fetch <remoteName>`，其中 `<remoteName>` 从 upstream 的 `remoteBranch` 推导，避免 upstream 不是 origin 时 fetch 错 remote。

## 测试与验证
- 新增一个 `node:test` 用例（放在 `scripts/test/`）：
  - 用临时目录创建 bare 远端仓库 + clone 本地仓库。
  - 设置 upstream（例如 `origin/main`），然后在远端推进一个新提交。
  - 验证：不手动执行同步时，`checkSourceUpdate()` 也能在第 1 步检测到 `hasUpdate: true`（因为内部会先 fetch）。
  - 再验证：把 remote URL 改成不可达地址时，返回 `checkFailed` 且流程输出 warning。

## 交付结果
- “检查源码状态”会基于远端最新引用判断是否需要更新；官方版本更高时会提示更新，不需要先点“同步官方”才能被发现。